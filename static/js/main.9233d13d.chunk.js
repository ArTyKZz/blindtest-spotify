(this["webpackJsonpblindtest-spotify"]=this["webpackJsonpblindtest-spotify"]||[]).push([[0],{17:function(e,t,a){e.exports=a.p+"static/media/logo.79f6b6a0.svg"},18:function(e,t,a){e.exports=a.p+"static/media/loading.9d4cbf40.svg"},19:function(e,t,a){e.exports=a(48)},24:function(e,t,a){},25:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(16),s=a.n(r),c=(a(24),a(3)),i=a(17),l=a.n(i),m=a(18),u=a.n(m),d=(a(25),a(7)),p=a.n(d);a(47);var h=e=>o.a.createElement("button",{onClick:e.onClick},e.children);function g(e){let t=e.length;for(;t>0;){let a=f(t);t--;let n=e[t];e[t]=e[a],e[a]=n}return e}function f(e){return Math.floor(Math.random()*e)}const v=e=>{const t=e.track.album.images[0].url;return o.a.createElement("img",{src:t,style:{width:400,height:400}})};var w=()=>{const e=Object(n.useState)([]),t=Object(c.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(!1),i=Object(c.a)(s,2),m=i[0],d=i[1],w=Object(n.useState)(!1),k=Object(c.a)(w,2),E=k[0],b=k[1],j=Object(n.useState)(null),N=Object(c.a)(j,2),A=N[0],y=N[1],B=Object(n.useState)([]),O=Object(c.a)(B,2),C=O[0],M=O[1],S=e=>{e===A.id?swal("Bravo","T'es vraiment un crackito","success").then(()=>(()=>{let e=a[f(a.length)].track,t=a[f(a.length)].track;for(;e===t;)t=a[f(a.length)].track;let n=a[f(a.length)].track;for(;e===n||t===n;)n=a[f(a.length)].track;M(g([e,t,n])),y(e)})()):swal("T'es nul","M\xeame Mathis est meilleur que toi","error")};if(Object(n.useEffect)(()=>{fetch("https://api.spotify.com/v1/me/tracks",{method:"GET",headers:{Authorization:"Bearer BQDw62GaPoGzLanDoBsId5pBSYwj91amJ4YOdMYJGwyDKP36f1Vcf6zKjlA0NKdht8GIR2B1_ArvZMDmR8q0wE8PaFn72zYCasTs3B3o-2w3INcd7Yc1HvxT4jBgirJZ6AhCwQj8kD3f3-NT5LB__J3vdYIF8rKQ9GM5mnoKfjN-cr6R"}}).then(e=>e.json()).then(e=>{r(e.items);let t=e.items[f(e.items.length)].track,a=e.items[f(e.items.length)].track;for(;t===a;)a=e.items[f(e.items.length)].track;let n=e.items[f(e.items.length)].track;for(;t===n||a===n;)n=e.items[f(e.items.length)].track;M(g([t,a,n])),y(t),d(!0)})},[]),m){const e=A.preview_url;return console.log("R\xe9ponse re\xe7ue ! Voil\xe0 ce que j'ai re\xe7u : ",C),o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement("img",{src:l.a,className:"App-logo",alt:"logo"}),o.a.createElement("h1",{className:"App-title"},"Bienvenue sur le Blindtest de Mickou")),o.a.createElement("div",{className:"App-images"},o.a.createElement(v,{track:A}),E&&o.a.createElement(p.a,{url:e,playStatus:p.a.status.PLAYING})),o.a.createElement("div",{className:"App-buttonsPlayPause"},o.a.createElement(h,{onClick:()=>{b(!0)}},"Play"),o.a.createElement(h,{onClick:()=>{b(!1)}},"Stop")),o.a.createElement("div",{className:"App-buttons"},C.map(e=>o.a.createElement(h,{onClick:()=>S(e.id)},e.name))))}return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement("img",{src:u.a,className:"App-logo",alt:"logo"}),o.a.createElement("h1",{className:"App-title"},"Chargement des musiques")),o.a.createElement("div",{className:"App-images"}),o.a.createElement("div",{className:"App-buttons"}))};const k=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function E(e){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=()=>{const t=e.installing;t.onstatechange=()=>{"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(e=>{console.error("Error during service worker registration:",e)})}s.a.render(o.a.createElement(w,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/blindtest-spotify",window.location).origin!==window.location.origin)return;window.addEventListener("load",()=>{const e="".concat("/blindtest-spotify","/service-worker.js");k?function(e){fetch(e).then(t=>{404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):E(e)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}(e):E(e)})}}()}},[[19,1,2]]]);
//# sourceMappingURL=main.9233d13d.chunk.js.map